<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>学生成绩详情 - AI智能阅卷系统</title>
    <link rel="stylesheet" href="dashboard.css">
    <link rel="stylesheet" href="papers-list.css">
    <link rel="stylesheet" href="scores-student.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- 顶部导航栏 -->
    <header class="top-navbar">
        <div class="navbar-left">
            <div class="logo">
                <i class="fas fa-graduation-cap"></i>
                <span>AI智能阅卷系统</span>
            </div>
        </div>
        
        <nav class="main-nav">
            <a href="/dashboard" class="nav-item">
                <i class="fas fa-tachometer-alt"></i>
                <span>工作台</span>
            </a>
            <a href="/papers" class="nav-item">
                <i class="fas fa-file-alt"></i>
                <span>试卷管理</span>
            </a>
            <a href="/grading" class="nav-item">
                <i class="fas fa-clipboard-check"></i>
                <span>阅卷中心</span>
            </a>
            <a href="/scores" class="nav-item active">
                <i class="fas fa-chart-bar"></i>
                <span>成绩管理</span>
            </a>
            <a href="/analysis" class="nav-item">
                <i class="fas fa-chart-line"></i>
                <span>学情分析</span>
            </a>
            <a href="/classes" class="nav-item">
                <i class="fas fa-users"></i>
                <span>班级管理</span>
            </a>
            <a href="/settings" class="nav-item">
                <i class="fas fa-cog"></i>
                <span>系统设置</span>
            </a>
        </nav>
        
        <div class="navbar-right">
            <div class="notification-bell">
                <i class="fas fa-bell"></i>
                <span class="notification-badge">3</span>
            </div>
            <div class="user-profile">
                <img src="https://via.placeholder.com/32x32" alt="用户头像" class="avatar">
                <span class="username">张老师</span>
                <i class="fas fa-chevron-down"></i>
            </div>
        </div>
    </header>

    <!-- 侧边栏导航 -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <h2>
                <i class="fas fa-chart-bar"></i>
                成绩管理
            </h2>
        </div>
        
        <nav class="sidebar-nav">
            <a href="/scores/overview" class="sidebar-nav-item">
                <i class="fas fa-chart-pie"></i>
                <span>成绩总览</span>
            </a>
            <a href="/scores/details" class="sidebar-nav-item">
                <i class="fas fa-table"></i>
                <span>详细成绩</span>
            </a>
            <a href="/scores/comparison" class="sidebar-nav-item">
                <i class="fas fa-balance-scale"></i>
                <span>成绩对比</span>
            </a>
            <a href="/scores/export" class="sidebar-nav-item">
                <i class="fas fa-download"></i>
                <span>导出报告</span>
            </a>
        </nav>

        <!-- 学生信息卡片 -->
        <div class="sidebar-student-info">
            <h3>学生信息</h3>
            <div class="student-info-card">
                <div class="student-avatar">
                    <img src="https://via.placeholder.com/60x60/667eea/ffffff?text=张三" alt="学生头像">
                </div>
                <div class="student-details">
                    <div class="student-name">张三</div>
                    <div class="student-meta">
                        <div class="meta-item">
                            <i class="fas fa-id-card"></i>
                            <span>2025001</span>
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-users"></i>
                            <span>高一(1)班</span>
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-trophy"></i>
                            <span>班级第1名</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 快速统计 -->
        <div class="sidebar-stats">
            <h3>成绩概况</h3>
            <div class="stat-card-mini">
                <div class="stat-icon total">
                    <i class="fas fa-calculator"></i>
                </div>
                <div class="stat-info">
                    <div class="stat-number">98</div>
                    <div class="stat-label">总分</div>
                </div>
            </div>
            <div class="stat-card-mini">
                <div class="stat-icon rank">
                    <i class="fas fa-medal"></i>
                </div>
                <div class="stat-info">
                    <div class="stat-number">1</div>
                    <div class="stat-label">班级排名</div>
                </div>
            </div>
            <div class="stat-card-mini">
                <div class="stat-icon percentage">
                    <i class="fas fa-percentage"></i>
                </div>
                <div class="stat-info">
                    <div class="stat-number">65%</div>
                    <div class="stat-label">得分率</div>
                </div>
            </div>
        </div>
    </aside>

    <!-- 主要内容区域 -->
    <main class="main-content with-sidebar">
        <!-- 面包屑导航 -->
        <div class="breadcrumb">
            <i class="fas fa-home"></i>
            <span>工作台</span>
            <i class="fas fa-chevron-right"></i>
            <span>成绩管理</span>
            <i class="fas fa-chevron-right"></i>
            <a href="/scores/details">详细成绩</a>
            <i class="fas fa-chevron-right"></i>
            <span class="current">张三成绩详情</span>
        </div>

        <!-- 页面标题和操作区 -->
        <div class="page-header">
            <div class="header-left">
                <h1>张三 - 高一数学月考成绩详情</h1>
                <div class="header-subtitle">
                    查看学生各题目得分情况和答题分析
                </div>
            </div>
            <div class="header-actions">
                <button class="btn btn-secondary">
                    <i class="fas fa-arrow-left"></i>
                    返回列表
                </button>
                <button class="btn btn-secondary">
                    <i class="fas fa-print"></i>
                    打印成绩单
                </button>
                <button class="btn btn-secondary">
                    <i class="fas fa-envelope"></i>
                    发送给家长
                </button>
                <button class="btn btn-primary">
                    <i class="fas fa-chart-line"></i>
                    生成分析报告
                </button>
            </div>
        </div>

        <!-- 成绩概览卡片 -->
        <div class="score-overview">
            <div class="overview-card total-score">
                <div class="score-display">
                    <div class="score-value">
                        <span class="score-number">98</span>
                        <span class="score-max">/ 150</span>
                    </div>
                    <div class="score-label">总分</div>
                    <div class="score-rank">全班第1名</div>
                </div>
                <div class="score-chart">
                    <div class="circular-progress" data-percentage="65">
                        <svg viewBox="0 0 100 100">
                            <circle cx="50" cy="50" r="45" stroke="#e9ecef" stroke-width="8" fill="none"/>
                            <circle cx="50" cy="50" r="45" stroke="#9b59b6" stroke-width="8" fill="none" 
                                    stroke-dasharray="283" stroke-dashoffset="99" 
                                    transform="rotate(-90 50 50)"/>
                        </svg>
                        <div class="progress-text">
                            <span class="percentage">65%</span>
                            <span class="label">得分率</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="overview-stats">
                <div class="stat-item">
                    <div class="stat-icon correct">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number">18</div>
                        <div class="stat-label">答对题数</div>
                        <div class="stat-desc">共25题</div>
                    </div>
                </div>
                <div class="stat-item">
                    <div class="stat-icon partial">
                        <i class="fas fa-minus-circle"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number">5</div>
                        <div class="stat-label">部分正确</div>
                        <div class="stat-desc">可获得部分分数</div>
                    </div>
                </div>
                <div class="stat-item">
                    <div class="stat-icon incorrect">
                        <i class="fas fa-times-circle"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number">2</div>
                        <div class="stat-label">答错题数</div>
                        <div class="stat-desc">需要重点复习</div>
                    </div>
                </div>
                <div class="stat-item">
                    <div class="stat-icon time">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number">95</div>
                        <div class="stat-label">用时（分钟）</div>
                        <div class="stat-desc">剩余25分钟</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 题目详细分析 -->
        <div class="detailed-analysis">
            <div class="section-header">
                <h2>题目分析</h2>
                <div class="section-controls">
                    <div class="filter-buttons">
                        <button class="filter-btn active" data-filter="all">全部题目</button>
                        <button class="filter-btn" data-filter="correct">答对题目</button>
                        <button class="filter-btn" data-filter="partial">部分正确</button>
                        <button class="filter-btn" data-filter="incorrect">答错题目</button>
                    </div>
                    <button class="btn btn-secondary btn-sm">
                        <i class="fas fa-download"></i>
                        导出详情
                    </button>
                </div>
            </div>

            <div class="questions-grid">
                <!-- 题目1 - 完全正确 -->
                <div class="question-card correct">
                    <div class="question-header">
                        <div class="question-info">
                            <div class="question-number">第1题</div>
                            <div class="question-type">单选题</div>
                        </div>
                        <div class="question-score">
                            <div class="score-earned full">4</div>
                            <div class="score-total">/ 4分</div>
                        </div>
                    </div>
                    
                    <div class="question-content">
                        <div class="question-text">
                            <p>下列函数中，在区间(0, +∞)上单调递增的是：</p>
                            <div class="options">
                                <div class="option">A. f(x) = -x² + 1</div>
                                <div class="option">B. f(x) = 1/x</div>
                                <div class="option correct-answer">C. f(x) = 2x + 1</div>
                                <div class="option">D. f(x) = log₁/₂x</div>
                            </div>
                        </div>
                        
                        <div class="student-answer">
                            <div class="answer-label">学生答案</div>
                            <div class="answer-value correct">C</div>
                        </div>
                    </div>
                    
                    <div class="question-analysis">
                        <div class="analysis-item positive">
                            <i class="fas fa-check-circle"></i>
                            <span>答案正确，理解了函数单调性概念</span>
                        </div>
                    </div>
                    
                    <div class="question-actions">
                        <button class="btn-icon" title="查看答卷">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="btn-icon" title="相似题目">
                            <i class="fas fa-clone"></i>
                        </button>
                    </div>
                </div>

                <!-- 题目2 - 完全正确 -->
                <div class="question-card correct">
                    <div class="question-header">
                        <div class="question-info">
                            <div class="question-number">第2题</div>
                            <div class="question-type">单选题</div>
                        </div>
                        <div class="question-score">
                            <div class="score-earned full">4</div>
                            <div class="score-total">/ 4分</div>
                        </div>
                    </div>
                    
                    <div class="question-content">
                        <div class="question-text">
                            <p>若集合A = {1, 2, 3}，B = {2, 3, 4}，则A ∩ B =</p>
                            <div class="options">
                                <div class="option">A. {1}</div>
                                <div class="option correct-answer">B. {2, 3}</div>
                                <div class="option">C. {4}</div>
                                <div class="option">D. {1, 2, 3, 4}</div>
                            </div>
                        </div>
                        
                        <div class="student-answer">
                            <div class="answer-label">学生答案</div>
                            <div class="answer-value correct">B</div>
                        </div>
                    </div>
                    
                    <div class="question-analysis">
                        <div class="analysis-item positive">
                            <i class="fas fa-check-circle"></i>
                            <span>正确理解集合交集的概念</span>
                        </div>
                    </div>
                    
                    <div class="question-actions">
                        <button class="btn-icon" title="查看答卷">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="btn-icon" title="相似题目">
                            <i class="fas fa-clone"></i>
                        </button>
                    </div>
                </div>

                <!-- 题目3 - 部分正确 -->
                <div class="question-card partial">
                    <div class="question-header">
                        <div class="question-info">
                            <div class="question-number">第3题</div>
                            <div class="question-type">填空题</div>
                        </div>
                        <div class="question-score">
                            <div class="score-earned partial">5</div>
                            <div class="score-total">/ 6分</div>
                        </div>
                    </div>
                    
                    <div class="question-content">
                        <div class="question-text">
                            <p>解方程：2x + 6 = 16，求x的值。</p>
                        </div>
                        
                        <div class="student-answer">
                            <div class="answer-label">学生答案</div>
                            <div class="answer-value partial">x = 5</div>
                            <div class="answer-note">解题过程不够完整</div>
                        </div>
                        
                        <div class="standard-answer">
                            <div class="answer-label">标准答案</div>
                            <div class="answer-steps">
                                <div class="step">2x = 16 - 6</div>
                                <div class="step">2x = 10</div>
                                <div class="step">x = 5</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="question-analysis">
                        <div class="analysis-item positive">
                            <i class="fas fa-check-circle"></i>
                            <span>最终答案正确</span>
                        </div>
                        <div class="analysis-item warning">
                            <i class="fas fa-exclamation-circle"></i>
                            <span>缺少详细的解题步骤</span>
                        </div>
                    </div>
                    
                    <div class="question-actions">
                        <button class="btn-icon" title="查看答卷">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="btn-icon" title="类似错误">
                            <i class="fas fa-exclamation-triangle"></i>
                        </button>
                        <button class="btn-icon" title="练习推荐">
                            <i class="fas fa-dumbbell"></i>
                        </button>
                    </div>
                </div>

                <!-- 题目4 - 错误 -->
                <div class="question-card incorrect">
                    <div class="question-header">
                        <div class="question-info">
                            <div class="question-number">第4题</div>
                            <div class="question-type">解答题</div>
                        </div>
                        <div class="question-score">
                            <div class="score-earned poor">6</div>
                            <div class="score-total">/ 15分</div>
                        </div>
                    </div>
                    
                    <div class="question-content">
                        <div class="question-text">
                            <p>已知函数f(x) = ax² + bx + c (a ≠ 0)，求函数的对称轴。</p>
                        </div>
                        
                        <div class="student-answer">
                            <div class="answer-label">学生答案</div>
                            <div class="answer-value incorrect">x = -b/a</div>
                            <div class="answer-note">公式记忆错误</div>
                        </div>
                        
                        <div class="standard-answer">
                            <div class="answer-label">正确答案</div>
                            <div class="answer-value">x = -b/(2a)</div>
                            <div class="answer-explanation">
                                二次函数的对称轴公式为 x = -b/(2a)
                            </div>
                        </div>
                    </div>
                    
                    <div class="question-analysis">
                        <div class="analysis-item negative">
                            <i class="fas fa-times-circle"></i>
                            <span>公式记忆有误，缺少分母中的2</span>
                        </div>
                        <div class="analysis-item suggestion">
                            <i class="fas fa-lightbulb"></i>
                            <span>建议复习二次函数的基本性质</span>
                        </div>
                    </div>
                    
                    <div class="question-actions">
                        <button class="btn-icon" title="查看答卷">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="btn-icon error" title="错误分析">
                            <i class="fas fa-bug"></i>
                        </button>
                        <button class="btn-icon" title="知识点复习">
                            <i class="fas fa-book"></i>
                        </button>
                        <button class="btn-icon" title="练习推荐">
                            <i class="fas fa-dumbbell"></i>
                        </button>
                    </div>
                </div>

                <!-- 题目5 - 部分正确 -->
                <div class="question-card partial">
                    <div class="question-header">
                        <div class="question-info">
                            <div class="question-number">第5题</div>
                            <div class="question-type">解答题</div>
                        </div>
                        <div class="question-score">
                            <div class="score-earned good">12</div>
                            <div class="score-total">/ 15分</div>
                        </div>
                    </div>
                    
                    <div class="question-content">
                        <div class="question-text">
                            <p>证明：当x > 0时，不等式 x + 1/x ≥ 2 恒成立。</p>
                        </div>
                        
                        <div class="student-answer">
                            <div class="answer-label">学生答案</div>
                            <div class="answer-preview">
                                <img src="https://via.placeholder.com/200x150/f8f9fa/6c757d?text=学生答案" alt="学生解答过程">
                            </div>
                            <div class="answer-note">证明思路正确，但结论表述不够严谨</div>
                        </div>
                    </div>
                    
                    <div class="question-analysis">
                        <div class="analysis-item positive">
                            <i class="fas fa-check-circle"></i>
                            <span>使用均值不等式的思路正确</span>
                        </div>
                        <div class="analysis-item positive">
                            <i class="fas fa-check-circle"></i>
                            <span>计算过程准确</span>
                        </div>
                        <div class="analysis-item warning">
                            <i class="fas fa-exclamation-circle"></i>
                            <span>缺少等号成立的条件说明</span>
                        </div>
                    </div>
                    
                    <div class="question-actions">
                        <button class="btn-icon" title="查看答卷">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="btn-icon" title="标准解答">
                            <i class="fas fa-file-alt"></i>
                        </button>
                        <button class="btn-icon" title="练习推荐">
                            <i class="fas fa-dumbbell"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 成绩趋势分析 -->
        <div class="trend-analysis">
            <div class="section-header">
                <h2>成绩趋势</h2>
                <div class="trend-controls">
                    <select class="filter-select">
                        <option value="recent">最近5次考试</option>
                        <option value="semester">本学期</option>
                        <option value="year">本学年</option>
                    </select>
                </div>
            </div>
            
            <div class="trend-content">
                <div class="trend-chart">
                    <div class="chart-container">
                        <canvas id="trendChart" width="400" height="200"></canvas>
                    </div>
                </div>
                
                <div class="trend-stats">
                    <div class="trend-stat-item">
                        <div class="stat-icon improvement">
                            <i class="fas fa-arrow-up"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-label">与上次相比</div>
                            <div class="stat-value positive">+5分</div>
                            <div class="stat-desc">进步明显</div>
                        </div>
                    </div>
                    <div class="trend-stat-item">
                        <div class="stat-icon average">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-label">平均分</div>
                            <div class="stat-value">92.5</div>
                            <div class="stat-desc">近5次考试</div>
                        </div>
                    </div>
                    <div class="trend-stat-item">
                        <div class="stat-icon stability">
                            <i class="fas fa-chart-area"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-label">成绩稳定性</div>
                            <div class="stat-value">85%</div>
                            <div class="stat-desc">较为稳定</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 学习建议 -->
        <div class="learning-suggestions">
            <div class="section-header">
                <h2>学习建议</h2>
                <div class="suggestion-meta">
                    <span>基于AI分析生成</span>
                </div>
            </div>
            
            <div class="suggestions-grid">
                <div class="suggestion-card strengths">
                    <div class="suggestion-header">
                        <div class="suggestion-icon">
                            <i class="fas fa-star"></i>
                        </div>
                        <h3>优势项目</h3>
                    </div>
                    <div class="suggestion-content">
                        <ul>
                            <li>基础计算能力强，选择题和填空题得分率高</li>
                            <li>对函数概念理解准确，相关题目答题正确率95%</li>
                            <li>解题思路清晰，逻辑性强</li>
                        </ul>
                    </div>
                </div>
                
                <div class="suggestion-card improvements">
                    <div class="suggestion-header">
                        <div class="suggestion-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <h3>待提升</h3>
                    </div>
                    <div class="suggestion-content">
                        <ul>
                            <li>解答题答题规范性需要加强，注意步骤完整性</li>
                            <li>证明题的逻辑表述需要更加严谨</li>
                            <li>公式记忆需要进一步巩固，避免细节错误</li>
                        </ul>
                    </div>
                </div>
                
                <div class="suggestion-card recommendations">
                    <div class="suggestion-header">
                        <div class="suggestion-icon">
                            <i class="fas fa-lightbulb"></i>
                        </div>
                        <h3>学习建议</h3>
                    </div>
                    <div class="suggestion-content">
                        <ul>
                            <li>加强证明题练习，重点关注逻辑推理的严谨性</li>
                            <li>建立错题本，定期复习易错知识点</li>
                            <li>多做综合应用题，提高解决复杂问题的能力</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- 页面底部 -->
    <footer class="page-footer">
        <div class="footer-content">
            <span>&copy; 2025 AI智能阅卷系统 - 让教学更智能</span>
            <div class="footer-links">
                <a href="/help">帮助中心</a>
                <a href="/feedback">意见反馈</a>
                <a href="/about">关于我们</a>
            </div>
        </div>
    </footer>

    <!-- 答卷详情模态框 -->
    <div class="modal" id="answerDetailModal">
        <div class="modal-content large">
            <div class="modal-header">
                <h3>第4题答卷详情</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="answer-detail-content">
                    <div class="answer-image-section">
                        <div class="image-toolbar">
                            <button class="tool-btn" title="放大">
                                <i class="fas fa-search-plus"></i>
                            </button>
                            <button class="tool-btn" title="缩小">
                                <i class="fas fa-search-minus"></i>
                            </button>
                            <button class="tool-btn" title="旋转">
                                <i class="fas fa-undo"></i>
                            </button>
                            <button class="tool-btn" title="重置">
                                <i class="fas fa-expand-arrows-alt"></i>
                            </button>
                        </div>
                        <div class="answer-image-large">
                            <img src="https://via.placeholder.com/600x800/f8f9fa/6c757d?text=学生答卷详情" alt="学生答卷">
                        </div>
                    </div>
                    <div class="answer-analysis-section">
                        <div class="analysis-tabs">
                            <button class="tab-btn active" data-tab="scoring">评分详情</button>
                            <button class="tab-btn" data-tab="comparison">对比分析</button>
                            <button class="tab-btn" data-tab="suggestions">改进建议</button>
                        </div>
                        <div class="tab-content active" id="scoring">
                            <div class="scoring-details">
                                <h4>评分标准</h4>
                                <div class="scoring-criteria">
                                    <div class="criteria-item">
                                        <span class="criteria-label">正确理解题意</span>
                                        <span class="criteria-score earned">3/5分</span>
                                    </div>
                                    <div class="criteria-item">
                                        <span class="criteria-label">解题方法正确</span>
                                        <span class="criteria-score partial">2/5分</span>
                                    </div>
                                    <div class="criteria-item">
                                        <span class="criteria-label">计算结果准确</span>
                                        <span class="criteria-score missed">1/5分</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary">关闭</button>
                <button class="btn btn-primary">查看标准答案</button>
            </div>
        </div>
    </div>

    <!-- 图表初始化脚本 -->
    <script>
        // 成绩趋势图
        const trendCtx = document.getElementById('trendChart').getContext('2d');
        new Chart(trendCtx, {
            type: 'line',
            data: {
                labels: ['第1次', '第2次', '第3次', '第4次', '第5次'],
                datasets: [{
                    label: '张三成绩',
                    data: [85, 88, 92, 89, 98],
                    borderColor: '#667eea',
                    backgroundColor: 'rgba(102, 126, 234, 0.1)',
                    borderWidth: 3,
                    fill: true,
                    tension: 0.4
                }, {
                    label: '班级平均分',
                    data: [78, 81, 79, 82, 83],
                    borderColor: '#95a5a6',
                    backgroundColor: 'rgba(149, 165, 166, 0.1)',
                    borderWidth: 2,
                    fill: false,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: false,
                        min: 70,
                        max: 100
                    }
                }
            }
        });
    </script>
</body>
</html>